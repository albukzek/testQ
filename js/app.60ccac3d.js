(function(t){function e(e){for(var o,i,r=e[0],c=e[1],u=e[2],p=0,d=[];p<r.length;p++)i=r[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},s={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"441a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function s(t,e,n,s,a,i){var r=Object(o["w"])("main-layout");return Object(o["q"])(),Object(o["e"])(r)}var a={class:"container with-nav"};function i(t,e,n,s,i,r){var c=Object(o["w"])("router-view");return Object(o["q"])(),Object(o["e"])("div",a,[Object(o["h"])(c)])}var r={class:"navbar"},c=Object(o["h"])("h3",null,"News Blog ",-1),u={class:"navbar-menu"};function l(t,e,n,s,a,i){return Object(o["q"])(),Object(o["e"])("nav",r,[c,Object(o["h"])("ul",u,[Object(o["h"])("button",{class:"btn primary",onClick:e[1]||(e[1]=function(e){return t.$emit("newPost")})},"Создать новость"),Object(o["h"])("button",{class:"btn primary",onClick:e[2]||(e[2]=function(e){return t.$emit("download")})},"Загрузить")])])}var p={emits:["download","newPost"]};p.render=l;var d=p,b={components:{TheNavbar:d}};b.render=i;var h=b,f={components:{MainLayout:h},setup:function(){return{}}};f.render=s;var O=f,j=n("9483");Object(j["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var g=n("6c02"),m=(n("4de4"),{class:"home"}),v={key:0,class:"filter card"},P={key:1,class:"card text-center"},y=Object(o["h"])("h1",null,"Постов нет. Добавьте первый :)",-1);function w(t,e,n,s,a,i){var r=Object(o["w"])("the-navbar"),c=Object(o["w"])("news-filter-select"),u=Object(o["w"])("news-filter"),l=Object(o["w"])("news-posts"),p=Object(o["w"])("news-open-post"),d=Object(o["w"])("app-modal"),b=Object(o["w"])("news-modal"),h=Object(o["w"])("news-edit-modal"),f=Object(o["w"])("app-paginate");return Object(o["q"])(),Object(o["e"])(o["a"],null,[Object(o["h"])(r,{onDownload:i.loadMorePosts,onNewPost:e[1]||(e[1]=function(t){return a.modal=!0})},null,8,["onDownload"]),Object(o["h"])("div",m,[this.posts.length?(Object(o["q"])(),Object(o["e"])("div",v,[Object(o["h"])(c,{modelValue:a.filter,"onUpdate:modelValue":e[2]||(e[2]=function(t){return a.filter=t})},null,8,["modelValue"]),Object(o["h"])(u,{modelValue:a.seletedSort,"onUpdate:modelValue":e[3]||(e[3]=function(t){return a.seletedSort=t}),options:a.sortOptions},null,8,["modelValue","options"])])):Object(o["f"])("",!0),Object(o["h"])(l,{onOpenPost:i.openPosts,onModalEdit:i.postInPosts,onRemove:i.removePost,posts:i.displayPost},null,8,["onOpenPost","onModalEdit","onRemove","posts"]),(Object(o["q"])(),Object(o["e"])(o["b"],{to:"body"},[a.openPost?(Object(o["q"])(),Object(o["e"])(d,{key:0,title:"Просмотр новости",onClose:e[5]||(e[5]=function(t){return a.openPost=!1})},{default:Object(o["D"])((function(){return[Object(o["h"])(p,{post:a.post,onClose:e[4]||(e[4]=function(t){return a.openPost=!1})},null,8,["post"])]})),_:1})):Object(o["f"])("",!0),a.modal?(Object(o["q"])(),Object(o["e"])(d,{key:1,title:"Создать новость",onClose:e[7]||(e[7]=function(t){return a.modal=!1})},{default:Object(o["D"])((function(){return[Object(o["h"])(b,{onCreate:i.createPost,onCreated:e[6]||(e[6]=function(t){return a.modal=!1})},null,8,["onCreate"])]})),_:1})):Object(o["f"])("",!0),a.editModal?(Object(o["q"])(),Object(o["e"])(d,{key:2,title:"Редактировать новость",onClose:e[9]||(e[9]=function(t){return a.editModal=!1})},{default:Object(o["D"])((function(){return[Object(o["h"])(h,{post:a.post,onEdit:i.editPost,onDone:e[8]||(e[8]=function(t){return a.editModal=!1})},null,8,["post","onEdit"])]})),_:1})):Object(o["f"])("",!0)]))]),this.posts.length?(Object(o["q"])(),Object(o["e"])(f,{key:0,totalPages:t.pageCount,perPage:t.perPage,currentPage:t.currentPage,onPagechanged:t.onPageChange},null,8,["totalPages","perPage","currentPage","onPagechanged"])):(Object(o["q"])(),Object(o["e"])("div",P,[y]))],64)}n("99af"),n("4160"),n("4e82"),n("159b");var k=n("2909"),C=(n("96cf"),n("1da1")),q={class:"card"},x={class:"text-center"};function E(t,e,n,s,a,i){return Object(o["q"])(),Object(o["e"])(o["a"],null,[Object(o["h"])("div",q,[Object(o["h"])("h2",x,Object(o["y"])(n.post.title),1),Object(o["h"])("p",null,Object(o["y"])(n.post.body),1)]),Object(o["h"])("button",{class:"btn primary",onClick:e[1]||(e[1]=function(){return i.closePost&&i.closePost.apply(i,arguments)})},"Закрыть")],64)}var N={emits:["edit","done"],props:{post:{type:Object,required:!0}},methods:{closePost:function(){this.$emit("close")}}};N.render=E;var S=N,V=(n("b0c0"),{class:"pagination"}),$={class:"pagination-item"},M={class:"pagination-item"},A={class:"pagination-item"},F={class:"pagination-item"};function I(t,e,n,s,a,i){return Object(o["q"])(),Object(o["e"])("ul",V,[Object(o["h"])("li",$,[Object(o["h"])("button",{type:"button",onClick:e[1]||(e[1]=function(){return i.onClickFirstPage&&i.onClickFirstPage.apply(i,arguments)}),disabled:i.isInFirstPage},"First",8,["disabled"])]),Object(o["h"])("li",M,[Object(o["h"])("button",{type:"button",onClick:e[2]||(e[2]=function(){return i.onClickPreviousPage&&i.onClickPreviousPage.apply(i,arguments)}),disabled:i.isInFirstPage},"Previous",8,["disabled"])]),(Object(o["q"])(!0),Object(o["e"])(o["a"],null,Object(o["u"])(i.pages,(function(t){return Object(o["q"])(),Object(o["e"])("li",{key:t.name,class:"pagination-item"},[Object(o["h"])("button",{type:"button",disabled:t.isDisabled,onClick:function(e){return i.onClickPage(t.name)},class:{activep:i.isPageActive(t.name)}},Object(o["y"])(t.name),11,["disabled","onClick"])])})),128)),Object(o["h"])("li",A,[Object(o["h"])("button",{type:"button",onClick:e[3]||(e[3]=function(){return i.onClickNextPage&&i.onClickNextPage.apply(i,arguments)}),disabled:i.isInLastPage},"Next",8,["disabled"])]),Object(o["h"])("li",F,[Object(o["h"])("button",{type:"button",onClick:e[4]||(e[4]=function(){return i.onClickLastPage&&i.onClickLastPage.apply(i,arguments)}),disabled:i.isInLastPage},"Last",8,["disabled"])])])}n("a9e3");var L={props:{maxVisibleButtons:{type:Number,required:!1,default:3},totalPages:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!0}},computed:{startPage:function(){return 1===this.currentPage?1:this.currentPage===this.totalPages?this.totalPages-this.maxVisibleButtons:this.currentPage-1},pages:function(){for(var t=[],e=this.startPage;e<=Math.min(this.startPage+this.maxVisibleButtons-1,this.totalPages);e++)t.push({name:e,isDisabled:e===this.currentPage});return t},isInFirstPage:function(){return 1===this.currentPage},isInLastPage:function(){return this.currentPage===this.totalPages}},methods:{onClickFirstPage:function(){this.$emit("pagechanged",1)},onClickPreviousPage:function(){this.$emit("pagechanged",this.currentPage-1)},onClickPage:function(t){this.$emit("pagechanged",t)},onClickNextPage:function(){this.$emit("pagechanged",this.currentPage+1)},onClickLastPage:function(){this.$emit("pagechanged",this.totalPages)},isPageActive:function(t){return this.currentPage===t}}};L.render=I;var U=L,B={class:"form-control"},D=Object(o["g"])('<option disabled value="">Выберите категорию</option><option value="done">Спорт</option><option value="canceled">Политика</option><option value="active">Наука</option><option value="pending">Юмор</option>',5);function _(t,e,n,s,a,i){return Object(o["q"])(),Object(o["e"])("div",B,[Object(o["E"])(Object(o["h"])("select",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return a.status=t})},[D],512),[[o["A"],a.status]])])}var R={props:["modalValue"],emits:["update:modalValue"],data:function(){return{name:"",status:""}},watch:{status:function(t){this.$emit("update:modelValue",{status:t})}}};R.render=_;var J=R,T={class:"form-control"},H=Object(o["h"])("label",{for:"title"},"Заголовок",-1),z={class:"form-control"},G=Object(o["h"])("label",{for:"body"},"Содержание",-1),K={class:"form-control"},Q=Object(o["h"])("label",{for:"status"},"Категория",-1),W=Object(o["h"])("option",{value:"done"},"Спорт",-1),X=Object(o["h"])("option",{value:"canceled"},"Политика",-1),Y=Object(o["h"])("option",{value:"active"},"Наука",-1),Z=Object(o["h"])("option",{value:"pending"},"Юмор",-1);function tt(t,e,n,s,a,i){return Object(o["q"])(),Object(o["e"])("form",{onSubmit:e[5]||(e[5]=Object(o["F"])((function(){}),["prevent"]))},[Object(o["h"])("div",T,[H,Object(o["E"])(Object(o["h"])("input",{type:"text",id:"title","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.postEdit.title=t})},null,512),[[o["B"],a.postEdit.title]])]),Object(o["h"])("div",z,[G,Object(o["E"])(Object(o["h"])("textarea",{id:"body",rows:"10","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.postEdit.body=t})},null,512),[[o["B"],a.postEdit.body]])]),Object(o["h"])("div",K,[Q,Object(o["E"])(Object(o["h"])("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.postEdit.status=t})},[W,X,Y,Z],512),[[o["A"],a.postEdit.status]])]),Object(o["h"])("button",{class:"btn primary",onClick:e[4]||(e[4]=function(){return i.editPost&&i.editPost.apply(i,arguments)})},"Изменить")],32)}var et={emits:["edit","done"],props:{post:{type:Object,required:!0}},data:function(){return{postEdit:{id:this.post.id,title:this.post.title,body:this.post.body,status:this.post.status}}},methods:{editPost:function(){this.$emit("edit",this.postEdit),this.$emit("done")}}};et.render=tt;var nt=et,ot={class:"modal"},st={key:0};function at(t,e,n,s,a,i){return Object(o["q"])(),Object(o["e"])(o["a"],null,[Object(o["h"])("div",{class:"modal-backdrop",onClick:e[1]||(e[1]=function(e){return t.$emit("close")})}),Object(o["h"])("div",ot,[n.title?(Object(o["q"])(),Object(o["e"])("h3",st,Object(o["y"])(n.title),1)):Object(o["f"])("",!0),Object(o["v"])(t.$slots,"default")])],64)}var it={emits:["close"],props:{title:{type:String}}};it.render=at;var rt=it,ct={class:"form-control"},ut=Object(o["h"])("label",{for:"title"},"Заголовок",-1),lt={class:"form-control"},pt=Object(o["h"])("label",{for:"body"},"Содержание",-1),dt={class:"form-control"},bt=Object(o["h"])("label",{for:"status"},"Категория",-1),ht=Object(o["h"])("option",{value:"done"},"Спорт",-1),ft=Object(o["h"])("option",{value:"canceled"},"Политика",-1),Ot=Object(o["h"])("option",{value:"active"},"Наука",-1),jt=Object(o["h"])("option",{value:"pending"},"Юмор",-1);function gt(t,e,n,s,a,i){return Object(o["q"])(),Object(o["e"])("form",{onSubmit:e[5]||(e[5]=Object(o["F"])((function(){}),["prevent"]))},[Object(o["h"])("div",ct,[ut,Object(o["E"])(Object(o["h"])("input",{type:"text",id:"title","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.post.title=t})},null,512),[[o["B"],a.post.title]])]),Object(o["h"])("div",lt,[pt,Object(o["E"])(Object(o["h"])("textarea",{id:"body",rows:"10","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.post.body=t})},null,512),[[o["B"],a.post.body]])]),Object(o["h"])("div",dt,[bt,Object(o["E"])(Object(o["h"])("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.post.status=t})},[ht,ft,Ot,jt],512),[[o["A"],a.post.status]])]),Object(o["h"])("button",{class:"btn primary",onClick:e[4]||(e[4]=function(){return i.createPost&&i.createPost.apply(i,arguments)})},"Создать")],32)}n("6eba"),n("0d03");var mt={emits:["created","create"],data:function(){return{post:{title:"",body:"",status:""}}},methods:{createPost:function(){this.post.id=Date.now(),this.$emit("create",this.post),this.$emit("created")}}};mt.render=gt;var vt=mt,Pt={class:"posthide"};function yt(t,e,n,s,a,i){var r=Object(o["w"])("app-status");return Object(o["q"])(!0),Object(o["e"])(o["a"],null,Object(o["u"])(n.posts,(function(e){return Object(o["q"])(),Object(o["e"])("div",{class:"card",key:e.id},[Object(o["h"])(r,{type:e.status},null,8,["type"]),Object(o["h"])("h1",null,Object(o["y"])(e.title),1),Object(o["h"])("p",Pt,Object(o["y"])(e.body),1),Object(o["h"])("button",{class:"btn primary",onClick:function(n){return t.$emit("openPost",e,!0)}},"Открыть новость",8,["onClick"]),Object(o["h"])("button",{class:"btn danger",onClick:function(n){return t.$emit("remove",e)}},"Удалить",8,["onClick"]),Object(o["h"])("button",{class:"btn warning",onClick:function(n){return t.$emit("modalEdit",e,!0)}},"Редактировать",8,["onClick"])])})),128)}function wt(t,e,n,s,a,i){return Object(o["q"])(),Object(o["e"])("span",{class:["badge",s.className]},Object(o["y"])(s.text),3)}n("caad");var kt={props:{type:{type:String,required:!0,validator:function(t){return["active","cancelled","done","pending"].includes(t)}}},setup:function(t){var e={active:"primary",canceled:"danger",done:"primary",pending:"warning"},n={active:"Наука",canceled:"Политика",done:"Спорт",pending:"Юмор"};Object(o["C"])(t,(function(t){s.value=e[t.type],a.value=n[t.type]}));var s=Object(o["t"])(e[t.type]),a=Object(o["t"])(n[t.type]);return{className:s,text:a}}};kt.render=wt;var Ct=kt,qt={components:{AppStatus:Ct},emits:["remove","modalEdit","openPost"],props:{posts:{type:Array,required:!0}},data:function(){return{}}};qt.render=yt;var xt=qt,Et={class:"form-control"},Nt=Object(o["h"])("option",{disabled:"",value:""},"Сортировать по:",-1);function St(t,e,n,s,a,i){return Object(o["q"])(),Object(o["e"])("div",Et,[Object(o["E"])(Object(o["h"])("select",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return n.modelValue=t}),onChange:e[2]||(e[2]=function(){return i.changeOption&&i.changeOption.apply(i,arguments)})},[Nt,(Object(o["q"])(!0),Object(o["e"])(o["a"],null,Object(o["u"])(n.options,(function(t){return Object(o["q"])(),Object(o["e"])("option",{key:t.value,value:t.value},Object(o["y"])(t.name),9,["value"])})),128))],544),[[o["A"],n.modelValue]])])}var Vt={name:"news-filter",emits:["changeOption"],props:{modelValue:{type:String},options:{type:Array,default:function(){return[]}}},methods:{changeOption:function(t){this.$emit("update:modelValue",t.target.value)}}};Vt.render=St;var $t=Vt,Mt=n("bc3a"),At=n.n(Mt),Ft=n("2ef0"),It=n.n(Ft),Lt={data:function(){return{perPage:10,currentPage:+this.$route.query.page||1,pageCount:0,items:[]}},methods:{setupPagenation:function(t){this.pages=It.a.chunk(t,this.perPage),this.pageCount=It.a.size(this.pages),this.items=this.pages[this.currentPage-1]||this.pages[0]},onPageChange:function(t){this.currentPage=t,this.$router.push("".concat(this.$route.path,"?page=").concat(t)),this.items=this.pages[t-1]||this.pages[0]},changePage:function(t){this.page=t,this.fetchPosts()}}},Ut={name:"Home",components:{NewsOpenPost:S,NewsPosts:xt,NewsFilter:$t,NewsModal:vt,AppModal:rt,TheNavbar:d,NewsEditModal:nt,NewsFilterSelect:J,AppPaginate:U},mixins:[Lt],data:function(){return{kostil:0,editModal:!1,modal:!1,openPost:!1,posts:[],post:{},seletedSort:"",sortOptions:[{value:"title",name:"По названию"},{value:"body",name:"По содержанию"}],filter:{}}},mounted:function(){if(localStorage.getItem("posts")){var t=localStorage.getItem("posts"),e=JSON.parse(t);this.posts=e,this.setupPagenation(this.posts)}},methods:{createPost:function(t){this.posts.unshift(t),this.kostil++},removePost:function(t){confirm("Вы уверенны, что хотите удалить пост?")&&(this.posts=this.posts.filter((function(e){return e.id!==t.id}))),this.kostil++},postInPosts:function(t,e){this.editModal=e,this.post=t},openPosts:function(t,e){this.openPost=e,this.post=t},editPost:function(t){this.posts.forEach((function(e){e.id===t.id&&(e.title=t.title,e.body=t.body,e.status=t.status)})),this.kostil++},fetchPosts:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,At.a.get("https://jsonplaceholder.typicode.com/posts");case 3:n=e.sent,n.data.forEach((function(t){delete t.userId,t.status="active"})),t.posts=n.data,t.kostil++,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},loadMorePosts:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,At.a.get("https://jsonplaceholder.typicode.com/posts");case 3:n=e.sent,n.data.forEach((function(t){delete t.userId,t.status="active"})),t.posts=n.data.concat(t.posts),t.kostil++,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},watch:{kostil:function(){localStorage.setItem("posts",JSON.stringify(this.posts)),this.setupPagenation(this.posts)}},computed:{displayPost:function(){var t=this;if(this.seletedSort){var e=Object(k["a"])(this.posts).sort((function(e,n){var o;return null===(o=e[t.seletedSort])||void 0===o?void 0:o.localeCompare(n[t.seletedSort])}));this.setupPagenation(e),console.log("Сортировка",e)}if(this.filter.status){var n=this.posts.filter((function(e){return e.status===t.filter.status}));this.setupPagenation(n),console.log("Статус",n)}return this.items}}};Ut.render=w;var Bt=Ut,Dt=[{path:"/",name:"Home",component:Bt,meta:{layout:"main",auth:!1}}],_t=Object(g["a"])({history:Object(g["b"])("/"),routes:Dt}),Rt=_t,Jt=n("5502"),Tt={state:function(){return{posts:[],isPostLoading:!1}},mutations:{setPosts:function(t,e){t.posts=e},setLoading:function(t,e){t.isPostLoading=e}},actions:{fetchPosts:function(t){return Object(C["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n("setLoading",!0),e.next=5,At.a.get("https://jsonplaceholder.typicode.com/posts");case 5:o=e.sent,n("setPosts",o.data),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0.message);case 12:return e.prev=12,n("setLoading",!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))()}},namespaced:!0},Ht=Object(Jt["a"])({modules:{post:Tt}}),zt=(n("441a"),Object(o["d"])(O));zt.use(Ht).use(Rt).mount("#app")}});
//# sourceMappingURL=app.60ccac3d.js.map